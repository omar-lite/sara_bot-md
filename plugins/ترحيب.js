import fetch from 'node-fetch';

let toM = a => '@' + a.split('@')[0];

async function handler(m, { groupMetadata, text, usedPrefix, command }) {
    // Split the text to get the title and the mention
    let [title, mention] = text.split('|').map(s => s.trim());

    if (!title || !mention) {
        return m.reply(`ุงูุงุณุชุฎุฏุงู ุงูุตุญูุญ:\n${usedPrefix + command} <ููุจ> | <ููุดู>`);
    }

    // Extract the user ID from the mention
    let userId = mention.match(/@(\d+)/)[1] + '@s.whatsapp.net';

    const fgytSrdf = 'https://telegra.ph/file/38bc981d35dabf1d82df7.png';

    m.reply(`*ใโ๏ธโ ุฅุนูููุงู ุนู ุงูุถูุงู ุนุถู ุฌุฏูุฏ :๐*

ูยท โข โข โโโโโโ โโโ โโโโโโ โข โข ยท
* ูููุนูููููุงุช ุนู ุงูุนุถู :โฏ๐* 

* ุงูููููุจ:๐* *ใ ${title} ใ*

* ุงููููููุดู:๐ฅ* *ใ ${mention} ใ*
ูยท โข โข โโโโโโ โโ๏ธโ โโโโโ โข โข ยท

*ูโโโโโโโโ{โ๏ธ}โโโโโโโโ*

*ใ~ููููุง ุฃูููููุง ูุณูููููุง ูููุดููุฑููููููุง*
*ุจูููููู ููู ููููููุฒ ุ ุชูุจูููู/ูู*
*ุชุญููููุงุชููููุง ูุชููููุฏูุฑููุง* 
*ููุฑุญูููุจุง ุจฺช ุถููููู ุนุงุฆููููุชูุง*
 *ุงููุชูููุงุถูููุนูู๐*
*_~ ูุชูููููู ูุดูููุงุฑฺชูููุชฺช*
 *ยฐูุชููููุงุนููููฺช ูุงุจุฏุงุนูููฺช๐บ._.ใ*

*ูโโโโโโโโ{โ๏ธ}โโโโโโโโ*

*ุชููุญููุงุช ุฅุฏุงุฑุฉ โญ๏ธ*
 
*ููุงุจุฉ ูููููุง*`, null, {
        mentions: [userId],
        url: fgytSrdf
    });
}

handler.help = ['ุชุฑุญูุจ <ููุจ> | <ููุดู>'];
handler.tags = ['main', 'fun'];
handler.command = ['ุชุฑุญูุจ'];
handler.group = true;

export default handler;
